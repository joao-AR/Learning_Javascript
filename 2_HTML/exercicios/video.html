<video id= "meu_video" width="800" height="450" controls autoplay controlsList="nodownload">
    <source src = "http://files.cod3r.com.br/curso-web/video.mp4" type= "video/mp4">
    Seu navegador não suporta esse video
</video>

<div wm-progresso = "meu_video" class="progresso">
    <div></div>
</div>

<div>
    <button wm-play  = "meu_video"> Play  </button>
    <button wm-pause = "meu_video"> Pause </button>

</div>

<style>
    .progresso{
        height: 20px;
        width: 500px;
        border: solid 1px #444;
        margin: 20px;
    }
    
    .progresso > div {
        background-color: red;
        color:#fff;
        height: 100%;
        text-align: right;
    }
</style>

<script>

    function configurar_video(id){
        const video = document.getElementById(id)
        video.oncontextmenu = () => false // não permite baixar o video apertado o botão direito do mouse
        
        document.querySelector(`[wm-play=${id}]` ).onclick = e => video.play ()
        document.querySelector(`[wm-pause=${id}]`).onclick = e => video.pause()

        setInterval(() => {
            const percentual = (video.currentTime / video.duration)*100
            const valor_div = document.querySelector(`[wm-progresso=${id}] > div`)

            valor_div.style.width = `${percentual}%`
            valor_div.innerHTML = ` ${percentual.toFixed(1)}%` 
        },100)
    }
    configurar_video('meu_video')
</script>